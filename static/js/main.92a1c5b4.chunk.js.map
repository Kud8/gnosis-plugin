{"version":3,"sources":["GlobalStyle.ts","components/NewOwnerModal/NewOwnerModal.tsx","utils/notifications.ts","tests/wallet.ts","components/PolityModal/PolityModal.tsx","components/App/App.tsx","index.tsx"],"names":["GlobalStyle","createGlobalStyle","avertaFont","avertaBoldFont","NewOwnerModal","isModalOpened","onClose","style","useState","ownerName","setOwnerName","ownerAddress","setOwnerAddress","ownerWeight","setOwnerWeight","isAdding","setIsAdding","isAdded","setIsAded","useEffect","title","type","message","address","slice","length","store","addNotification","insert","container","animationIn","animationOut","dismiss","duration","onScreen","Modal","open","className","onClick","Input","name","placeholder","value","onChange","e","target","size","color","setTimeout","disabled","defaultPolity","weight","PolityModal","weightSum","reduce","acc","v","minimalWeight","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","map","polity","i","Container","styled","div","customStyles","top","left","right","bottom","marginRight","App","safe","useSafeAppsSDK","isModalOwnerOpened","setIsModalOwnerOpened","isModalPolityOpened","setIsModalPolityOpened","console","log","ReactDOM","render","StrictMode","theme","loader","document","getElementById"],"mappings":"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","file":"static/js/main.92a1c5b4.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components'\nimport avertaFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-normal.woff2'\nimport avertaBoldFont from '@gnosis.pm/safe-react-components/dist/fonts/averta-bold.woff2'\n\nconst GlobalStyle = createGlobalStyle`\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: 0px;\n       padding: 0px;\n    }\n\n    #root {\n        height: 100%;\n        padding-right: 0.5rem;\n    }\n\n    .MuiFormControl-root,\n    .MuiInputBase-root {\n        width: 100% !important;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(${avertaFont}) format('woff2'),\n        url(${avertaBoldFont}) format('woff');\n    }\n`\n\nexport default GlobalStyle\n","import React, {useEffect, useState} from 'react'\nimport {Modal, Input} from \"@material-ui/core\";\nimport './NewOwnerModal.scss';\nimport {Button} from \"@gnosis.pm/safe-react-components\";\nimport {addNotification} from \"../../utils/notifications\";\nimport {getShortAddress} from \"../../tests/wallet\";\n\ninterface NewOwnerModalProps {\n  isModalOpened: boolean;\n  onClose: () => void;\n  style?: React.CSSProperties;\n}\nexport const NewOwnerModal = ({isModalOpened, onClose, style}: NewOwnerModalProps) => {\n  const [ownerName, setOwnerName] = useState<string | null>(null);\n  const [ownerAddress, setOwnerAddress] = useState<string | null>(null);\n  const [ownerWeight, setOwnerWeight] = useState<number | null>(null);\n  const [isAdding, setIsAdding] = useState(false);\n  const [isAdded, setIsAded] = useState(false);\n\n  const updateOwnerName = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n    setOwnerName(e.target.value);\n  }\n  const updateOwnerAddress = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n    setOwnerAddress(e.target.value);\n  }\n  const updateOwnerWeight = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n    setOwnerWeight(+e.target.value);\n  }\n\n  const handleAddNewOwner = () => {\n    setIsAded(false);\n    setIsAdding(true);\n    setTimeout(() => {\n      setIsAdding(false);\n      setIsAded(true);\n    }, 2000);\n  }\n\n  useEffect(() => {\n    if (isAdded) {\n      addNotification(\"Owner added\", \"success\", `Owner with address ${getShortAddress(ownerAddress)} successfully added`);\n      onClose();\n    }\n  }, [isAdded]);\n\n  useEffect(() => {\n    if (!isModalOpened) {\n      setIsAded(false);\n      setIsAdding(false);\n      setOwnerName(null);\n      setOwnerAddress(null);\n      setOwnerWeight(null);\n    }\n  }, [isModalOpened])\n\n  if (!isModalOpened) {\n    return null;\n  }\n\n  return (\n    <Modal\n      open={isModalOpened}\n      onClose={onClose}\n      style={style}\n    >\n      <div className=\"new-owner-modal\">\n        <div className=\"header\">\n          <div>Add new owner</div>\n          <div className=\"close-button\" onClick={onClose}>X</div>\n        </div>\n        <div className=\"content\">\n          <Input\n            className=\"input\"\n            name=\"ownerName\"\n            placeholder=\"Owner name\"\n            type=\"text\"\n            value={ownerName}\n            onChange={updateOwnerName}\n          />\n          <Input\n            className=\"input\"\n            name=\"ownerAddress\"\n            placeholder=\"Owner address\"\n            type=\"text\"\n            value={ownerAddress}\n            onChange={updateOwnerAddress}\n          />\n          <Input\n            className=\"input\"\n            name=\"ownerWeight\"\n            placeholder=\"Owner weight\"\n            type=\"number\"\n            value={ownerWeight}\n            onChange={updateOwnerWeight}\n          />\n        </div>\n        <div className=\"footer\">\n          <Button size=\"lg\" color=\"primary\" onClick={handleAddNewOwner} disabled={isAdding}>\n            {isAdding ? 'Pending...' : 'Add'}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  )\n}","import {store} from \"react-notifications-component\";\n\ntype NotificationType = \"danger\" | \"success\" | \"info\" | \"warning\" | \"default\";\n\nexport const addNotification = (title: string, type: NotificationType, message?: string) => {\n  store.addNotification({\n    title,\n    message,\n    type,\n    insert: \"top\",\n    container: \"top-center\",\n    animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n    animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n    dismiss: {\n      duration: 5000,\n      onScreen: true\n    }\n  });\n};","export const getShortAddress = (address?: string | null) => address ? `${address.slice(0, 6)}...${address.slice(address.length - 4)}` : '';\n","import React from 'react'\nimport {Modal, Table, TableCell, TableBody, TableContainer, TableRow, TableHead, Paper} from \"@material-ui/core\";\nimport './PolityModal.scss';\n\ninterface NewOwnerModalProps {\n  isModalOpened: boolean;\n  onClose: () => void;\n  style?: React.CSSProperties;\n}\n\nconst defaultPolity = [\n  { address: '0xb79EbAa162f92A3E5B8E0CE3446e8b4a4E5C0A4B', weight: 2 },\n  { address: '0xCE7470bbC1ab5FE2EdD3c4df8B136b8ba4686348', weight: 3 },\n  { address: '0xF48dD0A23E0B8953F3b1b11931cD32D04127D822', weight: 4 },\n];\n\nexport const PolityModal = ({isModalOpened, onClose, style}: NewOwnerModalProps) => {\n  if (!isModalOpened) {\n    return null;\n  }\n\n  const weightSum = defaultPolity.reduce((acc, v) => acc + v.weight, 0);\n  const minimalWeight = weightSum;\n\n  return (\n    <Modal\n      open={isModalOpened}\n      onClose={onClose}\n      style={style}\n    >\n      <div className=\"polity-modal\">\n        <div className=\"header\">\n          <div>Polity</div>\n          <div className=\"close-button\" onClick={onClose}>X</div>\n        </div>\n        <div className=\"content\">\n          <TableContainer component={Paper}>\n            <Table aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"left\">№</TableCell>\n                  <TableCell align=\"left\">Address</TableCell>\n                  <TableCell align=\"left\">Weight</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {defaultPolity.map((polity, i) => (\n                  <TableRow key={polity.address}>\n                    <TableCell align=\"left\">{i + 1}</TableCell>\n                    <TableCell align=\"left\">{polity.address}</TableCell>\n                    <TableCell align=\"left\">{polity.weight}</TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </div>\n        <div className=\"footer\">\n          <div>Any transaction requires the confirmation of:</div>\n          <div className=\"information\">\n            <span className=\"number\">{minimalWeight}</span> of <span className=\"number\">{weightSum}</span> weight in sum\n          </div>\n        </div>\n      </div>\n    </Modal>\n  )\n}","import React, {useState} from 'react'\nimport styled from 'styled-components'\nimport { Button } from '@gnosis.pm/safe-react-components'\nimport { useSafeAppsSDK } from '@gnosis.pm/safe-apps-react-sdk'\nimport {NewOwnerModal} from \"../NewOwnerModal/NewOwnerModal\"\nimport {PolityModal} from \"../PolityModal/PolityModal\"\n\nimport './App.scss';\n\nconst Container = styled.div`\n  padding: 1rem;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`\n\nconst customStyles = {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n};\n\nconst App = (): React.ReactElement => {\n  const { safe } = useSafeAppsSDK()\n  const [isModalOwnerOpened, setIsModalOwnerOpened] = useState(false);\n  const [isModalPolityOpened, setIsModalPolityOpened] = useState(false);\n\n  const handleOpenOwnerModal = () => {\n    setIsModalOwnerOpened(true);\n  }\n  const handleCloseOwnerModal = () => {\n    setIsModalOwnerOpened(false);\n  }\n\n  const handleOpenPolityModal = () => {\n    setIsModalPolityOpened(true);\n  }\n  const handleClosePolityModal = () => {\n    setIsModalPolityOpened(false);\n  }\n\n  console.log(safe)\n\n  return (\n    <Container className=\"app\">\n      <Button size=\"lg\" color=\"primary\" onClick={handleOpenOwnerModal} className=\"button\">\n        Add new owner\n      </Button>\n\n      <Button size=\"lg\" color=\"primary\" onClick={handleOpenPolityModal} className=\"button\">\n        See polity\n      </Button>\n\n      <NewOwnerModal isModalOpened={isModalOwnerOpened} onClose={handleCloseOwnerModal} style={customStyles} />\n\n      <PolityModal isModalOpened={isModalPolityOpened} onClose={handleClosePolityModal} style={customStyles} />\n    </Container>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from 'styled-components'\nimport { theme, Loader, Title } from '@gnosis.pm/safe-react-components'\nimport SafeProvider from '@gnosis.pm/safe-apps-react-sdk'\nimport ReactNotification from \"react-notifications-component\"\n\nimport GlobalStyle from './GlobalStyle'\nimport App from './components/App/App'\nimport 'react-notifications-component/dist/theme.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <GlobalStyle />\n      <SafeProvider\n        loader={\n          <>\n            <Title size=\"md\">Waiting for Safe...</Title>\n            <Loader size=\"md\" />\n          </>\n        }\n      >\n        <ReactNotification />\n        <App />\n      </SafeProvider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}